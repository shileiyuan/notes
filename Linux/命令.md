[TOC]



## 文件搜索



### which

```bash
# 查找命令所在目录
which ifconfig
```

### whereis



### type ls

指出 `ls` 是shell内置命令还是其他的

### locate

简单地通过文件名查找文件

locate命令通过快速搜索数据库，以寻找路径名与给定子字符串相匹配的文件，同时输出所有匹配结果。

### find

| 选项  | 功能描述               |
| ----- | ---------------------- |
| -name | 按照文件名查找文件     |
| -perm | 按照文件权限来查找文件 |
| -type | 查找某一类型的文件     |



依据文件的各种属性在既定的目录（及其子目录）里查找。

```bash
# 查找用户主目录下的目录，并显示数量
# type: 限制查找的文件类型， d：目录   f： 普通文件 l: 符号链接文件
find ~ -type d | wc -l

# 查找所有符合*.JPG通配符格式以及大小超过1MB的普通文件
find ~ -type f -name '*.JPG' -size +1M | wc -l

find playground \( -type f -not -perm 0600 \) -or \( -type d -not -perm 0700 \)
```


### xargs

通常与文件搜索命令一起使用、处理搜索结果文件列表

用来从标准输入中建立、执行命令行。

### touch

更改文件的日期时间

### stat

显示文件或文件系统的状态



## 文件压缩

压缩的基本目标一直是消除冗余数据信息。

压缩算法一般分为两大类：无损压缩与有损压缩。

### gzip

压缩和解压缩文件工具

```bash
gzip foo.txt  # 生成压缩文件foo.txt.gz；foo.txt消失
gzip -d foo.txt # 解压缩，可以不加后缀名.gz
```

| 选项    | 功能描述                                                     |
| ------- | ------------------------------------------------------------ |
| -c      | 将输出内容写到标准输出端口并且保持原有文件                   |
| -d      | 解压缩。加上此选项，gzip命令便类似于gunzip                   |
| -f      | 强制压缩，即使原文件的压缩版本已经存在了                     |
| -h      | 显示帮助信息                                                 |
| -l      | 列出所有压缩文件的压缩统计                                   |
| -r      | 如果该命令行的操作参数中有一个或多个是目录，就递归压缩包含在目录中的文件 |
| -t      | 校验压缩文件的完整性                                         |
| -v      | 在压缩时显示详细信息                                         |
| -number | 设定压缩级别，（1～9），数字越小速度越快，压缩比越小。gzip默认为6 |

### bzip2

块排序文件压缩工具

与gzip类似，只是具有更高质量的数据压缩能力，但是降低了压缩速度

## 文件归档程序

### tar

归档工具

归档是与压缩操作配合使用的一个常用文件管理任务。归档是一个聚集众多文件并将它们组合为一个大文件的过程。

.tar: 用普通的tar命令归档的文件

.gz: 用gzip命令归档的文件

| 模式 | 描述                         |
| ---- | ---------------------------- |
| c    | 创建文件或目录的归档文件     |
| x    | 从归档文件中提取文件         |
| t    | 在归档文件末尾追加指定路径名 |
| r    | 列出归档文件的内容           |
| f    | 指定压缩文件                 |

打包： `tar -czf FileName.tar DirName`

解包： `tar -xzf FileName.tar -C ./folder`



说明： -z: 支持gzip解压文件

我们习惯上用 `.tar` 来作为辨识。 如果加 z 参数，则以` .tar.gz `或` .tgz` 来代表 gzip 压缩过的 tar包





### zip

打包和压缩文件





**不要强制压缩**

如果对一个已压缩文件再次进行压缩，实际上只会导致文件变大。因为所有的压缩技术都会在压缩文件前首先增加一些开销，以描述本次压缩。如果试图压缩一个已无冗余信息的文件，那么此次压缩不会腾出任何空间来抵消增加的开销。



## 正则表达式

### grep

grep搜索文本文件中与指定正则表达式匹配的行，并将结果送至标准输出

| 选项 | 功能描述                                                     |
| ---- | ------------------------------------------------------------ |
| -i   | 忽略大小写                                                   |
| -v   | 不匹配。正常情况下，grep会输出匹配行，而该选项可使grep输出不包含匹配项的所有行 |
| -c   | 输出匹配项数目，而不是直接输出匹配行自身                     |
| -l   | 输出匹配项文件名，而不是直接输出匹配行自身                   |
| -n   | 在每个匹配行前面加上该行在文件内的行号                       |
| -h   | 进行多文件搜索时，抑制文件名输出                             |





## 读取用户输入

`read [-options] [variable...]`

| 选项         | 描述                                                         |
| ------------ | ------------------------------------------------------------ |
| -a array     | 将输入值从索引为0的位置开始赋值给array                       |
| -d delimiter | 用字符串delimiter的第一个字符标志输入的结束，而不是新的一行的开始 |
| -e           | 使用Readline处理输入                                         |
| -n num       | 从输入中读取num个字符，而不是一整行                          |
| -p           | 使用prompt字符串提示用户进行输入                             |
| -r           | 原始模式。不能将后斜线字符翻译为转义码                       |
| -s           | 保密模式。不在屏幕显示输入的字符                             |
| -t seconds   | 在seconds秒后结束输入。若输入超时，read命令返回一个非0的退出状态 |
| -u fd        | 从文件说明符fd读取输入，而不是从标准输入中读取               |



若read命令读取的值少于预期的数目，则多余的变量值为空，而输入值的数目超出预期的结果时，最后的变量包含了所有的多余值。

如果read命令之后没有变量，则会为所有输入分配一个shell变量：REPLY